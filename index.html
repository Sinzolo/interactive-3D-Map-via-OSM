<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script src="https://unpkg.com/osmtogeojson/osmtogeojson.js"></script>
        <script src="https://unpkg.com/aframe-extras/dist/aframe-extras.controls.min.js"></script>
        <!-- <script src="https://unpkg.com/aframe-geometry-merger-component/dist/aframe-geometry-merger-component.min.js"></script> -->

        <script src="https://cdn.jsdelivr.net/npm/geotiff@2.0.7/dist-browser/geotiff.js"></script>  <!-- GeoTiff converter -->
        <img id = "geotiff" src="uniTiff/SD45ne_DTM_2m.tif" class="hidden">     <!-- GeoTiff image -->
        <script src="uniTiff/SD45ne_DTM_2m.tfw"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.7.0/proj4.js"></script>       <!-- Coord converter -->
        <script src="os-transform.js"></script>                                                     <!-- EPSG:27700 to WGS 84 converter -->

        <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>
        
        <script src="interpreter.xml"></script>
        <script src="conversions.js"></script>
        <script src="terrain.js"></script>
        <script src="main.js"></script>

        <title>Interactive 3D Map via OSM</title>
    </head>
    <body>

        <div id = "WelcomeScreen">
            <h2>Welcome to my Third Year Project for Lancaster University.</h2>
            <br>This website automatically generates a 3D map of the specified place using OSM's large database.
            <br><button id="loadMapBtn" onclick="loadMap()">Load Map</button>
        </div>

        <div id = "MapScreen" style="display: none">
            <button id="loadMenuBtn" onclick="loadMenu()">Load Menu</button>
            <a-scene stats background="color: lightblue">
                <a-entity id="rig" movement-controls="fly: true; speed: 5" position-limit="ymin: 250; ymax: 1000" rotation="0 -90 0">
                    <a-camera id="camera"></a-camera>
                    <!-- <a-entity id="camera" camera position="0 251.6 0" look-controls></a-entity> -->
                </a-entity>

                <!-- TODO Cant get flight control to work -->
                <!-- <a-entity flight-controls> -->
                    <!-- or you could use universal-controls instead of both look- and wasd-controls. -->
                    <!-- <a-entity primitive= "flight-controls" universal-controls="movementControls: flight-controls, hmd"></a-entity>
                </a-entity> -->

                <a-entity buffer-geometry-merger material="vertexColors: vertex">
                    <a-entity geometry="primitive: sphere; radius: 3" vertex-colors-buffer="baseColor: red" position="200 2 0"></a-entity>
                </a-entity>
            </a-scene>
        </div>
    </body>
</html>